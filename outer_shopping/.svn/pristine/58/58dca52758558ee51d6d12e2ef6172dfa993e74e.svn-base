
/* 권한 관리 */
DROP TABLE AUTHORITY;
/* 권한 관리 */
CREATE TABLE AUTHORITY (
	LOGIN_ID VARCHAR2(20) PRIMARY KEY, /* 권한 아이디 */
	LOGIN_NAME VARCHAR2(20) NOT NULL, /* 권한 비밀번호 */                                    /**/
	LOGIN_AUTHORITY VARCHAR2(50) NOT NULL /* 권한 */
);

/* 회원 */
DROP TABLE MEMBER;
/* 회원 */
CREATE TABLE MEMBER (
	MEMBER_ID VARCHAR2(15) PRIMARY KEY, /* 회원 아이디 */
	PW VARCHAR2(15) NOT NULL, /* 비밀번호 */
	NAME VARCHAR2(15) NOT NULL, /* 이름 */
	EMAIL VARCHAR2(30) NOT NULL, /* 이메일 */
	PHONENUM VARCHAR2(12) NOT NULL, /* 핸드폰 번호 */
	ZIPCODE VARCHAR2(10) NULL, /* 우편번호 */
	ADDRESS VARCHAR2(100) NULL, /* 주소 */
	BIRTHDAY DATE NULL, /* 생일 */
	SEX VARCHAR2(10) NOT NULL,
	GRADE VARCHAR2(15) DEFAULT '브론즈' NOT NULL, /* 등급 */
	ENABLED NUMBER(1) DEFAULT 1 NOT NULL /*  */
	--CONSTRAINT MEMBER_LOGIN_ID_FK FOREIGN KEY(MEMBER_ID) REFERENCES AUTHORITY(LOGIN_ID)  
);

/* 관리자 */
DROP TABLE ADMIN;
/* 관리자 */
CREATE TABLE ADMIN (
	ADMIN_ID VARCHAR2(15) PRIMARY KEY, /* 관리자 아이디 */
	PW VARCHAR2(15) NOT NULL, /* 비밀번호 */
	NAME VARCHAR2(15) NOT NULL, /* 이름 */
	LOGIN_ID VARCHAR2(20), /* 권한 아이디 */
	CONSTRAINT ADMIN_LOGIN_ID_FK FOREIGN KEY(ADMIN_ID) REFERENCES AUTHORITY(LOGIN_ID)
);

/* 공지사항 */
DROP TABLE NOTICE;
/* 공지사항 */
CREATE TABLE NOTICE (
	NOTICE_NO NUMBER(10) PRIMARY KEY, /* 공지사항 번호 */
	ITEMS VARCHAR2(30) NOT NULL, /* 항목 */
	NOTICE_CONTENT VARCHAR2(1000) NOT NULL, /* 내용 */ 
	NOTICE_DATE DATE DEFAULT SYSDATE NOT NULL, /* 작성일 */
	HITS NUMBER(10) DEFAULT 0 NOT NULL, /* 조회수 */            ------------------------------
	ADMIN_ID VARCHAR2(15) NOT NULL, /* 관리자 아이디 */
	CONSTRAINT NOTICE_ADMIN_ID_FK FOREIGN KEY(ADMIN_ID) REFERENCES ADMIN ON DELETE CASCADE
);

/* 주소록 */
DROP TABLE ADDRESS_BOOK;
/* 주소록 */
CREATE TABLE ADDRESS_BOOK (
	ADDRESS_NO NUMBER(10) PRIMARY KEY, /* 주소 번호 */
	ZIPCODE VARCHAR2(20) NOT NULL, /* 우편번호 */
	BOAD_NAME VARCHAR2(50) NOT NULL, /* 도로명 주소 */
	AREA_CODE VARCHAR2(50) NOT NULL /* 지번 주소 */
);

/* 아웃터 */
DROP TABLE OUTER_C;
/* 아웃터 */
CREATE TABLE OUTER_C (									 ----------
	O_NO NUMBER(10) PRIMARY KEY, /* 아웃터 번호 */
	O_TYPE VARCHAR2(30) NOT NULL, /* 아웃터 종류 */
	O_NAME VARCHAR2(30) NOT NULL, /* 아웃터 이름 */
	O_SIZE CHAR(1) NOT NULL, /* 아웃터 사이즈 */          ----------
	O_CONTENT VARCHAR2(50) NOT NULL, /* 아웃터 내용 */
	O_PRICE NUMBER(10) NOT NULL, /* 아웃터 가격 */
	O_COLOR VARCHAR2(20) NOT NULL, /* 아웃터 색상 */
	O_AMOUNT NUMBER(10) NOT NULL /* 아웃터 수량 */
);

/* 하의 */
DROP TABLE BOTTOM;
/* 하의 */
CREATE TABLE BOTTOM (
	B_NO NUMBER(10) PRIMARY KEY, /* 하의 번호 */
	B_TYPE VARCHAR2(30) NOT NULL, /* 하의 종류 */
	B_NAME VARCHAR2(30) NOT NULL, /* 하의 이름 */
	B_SIZE CHAR(1) NOT NULL, /* 하의 사이즈 */
	B_CONTENT VARCHAR2(50) NOT NULL, /* 하의 내용 */
	B_PRICE NUMBER(10) NOT NULL, /* 하의 가격 */
	B_COLOR VARCHAR2(20) NOT NULL, /* 하의 색상 */
	B_AMOUNT NUMBER(10) NOT NULL /* 하의 수량 */
);

/* 상의 */
DROP TABLE TOP;
/* 상의 */
CREATE TABLE TOP (
	T_NO NUMBER(10) PRIMARY KEY, /* 상의 번호 */
	T_TYPE VARCHAR2(30) NOT NULL, /* 상의 종류 */
	T_NAME VARCHAR2(30) NOT NULL, /* 상의 이름 */
	T_SIZE CHAR(1) NOT NULL, /* 상의 사이즈 */
	T_CONTENT VARCHAR2(50) NOT NULL, /* 상의 내용 */
	T_PRICE NUMBER(10) NOT NULL, /* 상의 가격 */
	T_COLOR VARCHAR2(20) NOT NULL, /* 상의 색상 */
	T_AMOUNT NUMBER(10) NOT NULL /* 상의 수량 */
);

/* 아웃터 사진 */
DROP TABLE OUTER_PICTURE;
/* 아웃터 사진 */
CREATE TABLE OUTER_PICTURE (
	P_NO NUMBER(10) PRIMARY KEY, /* 사진 번호 */
	P_NAME VARCHAR(100) NOT NULL, /* 사진 이름 */
	O_NO NUMBER(10) NOT NULL, /* 아웃터 번호 */
	CONSTRAINT OUTER_PICTURE_O_NO_FK FOREIGN KEY(O_NO) REFERENCES OUTER_C ON DELETE CASCADE
);


/* 상의 사진 */
DROP TABLE TOP_PICTURE;
/* 상의 사진 */
CREATE TABLE TOP_PICTURE (
	P_NO NUMBER(10) PRIMARY KEY, /* 사진 번호 */
	P_NAME VARCHAR(100) NOT NULL, /* 이름 */
	T_NO NUMBER(10) NOT NULL, /* 상의 번호 */
	CONSTRAINT TOP_PICTURE_T_NO_FK FOREIGN KEY(T_NO) REFERENCES TOP ON DELETE CASCADE
);


/* 하의 사진 */
DROP TABLE BOTTM_PICTURE;
/* 하의 사진 */
CREATE TABLE BOTTM_PICTURE (
	P_NO NUMBER(10) PRIMARY KEY, /* 사진 번호 */
	P_NAME VARCHAR(100) NOT NULL, /* 사진 이름 */
	B_NO NUMBER(10) NOT NULL, /* 하의 번호 */
	CONSTRAINT BOTTM_PICTURE_B_NO_FK FOREIGN KEY(B_NO) REFERENCES BOTTOM ON DELETE CASCADE
);

/* 리뷰 */
DROP TABLE REVIEW;
/* 리뷰 */
CREATE TABLE REVIEW (
	REVIEW_NO NUMBER(10) PRIMARY KEY, /* 리뷰 번호 */
	REVIEW_SUBJECT VARCHAR2(100) NOT NULL, /* 제목 */
	REVIEW_CONTENT VARCHAR2(1000) NOT NULL, /* 내용 */
	PICTURE VARCHAR2(500), /* 사진 */
	STAR NUMBER(2) NOT NULL, /* 별점 */
	REVIEW_DATE DATE DEFAULT SYSDATE NOT NULL, /* 작성일 */
	MEMBER_ID VARCHAR2(15) NOT NULL, /* 회원 아이디 */
	O_NO NUMBER(10), /* 아웃터 번호 */
	T_NO NUMBER(10), /* 상의 번호 */
	B_NO NUMBER(10), /* 하의 번호 */
	CONSTRAINT REVIEW_O_NO_FK FOREIGN KEY(O_NO) REFERENCES OUTER_C ON DELETE CASCADE,
	CONSTRAINT REVIEW_T_NO_FK FOREIGN KEY(T_NO) REFERENCES TOP ON DELETE CASCADE,
	CONSTRAINT REVIEW_B_NO_FK FOREIGN KEY(B_NO) REFERENCES BOTTOM ON DELETE CASCADE
);

/* 리뷰 댓글 */
DROP TABLE REVIEW_COMMENT ;
/* 리뷰 댓글 */
CREATE TABLE REVIEW_COMMENT (
	R_C_CONTENT VARCHAR2(1000) NOT NULL, /* 내용 */
	R_C_DATE DATE NOT NULL, /* 작성일 */
	REVIEW_NO NUMBER(10) NOT NULL, /* 리뷰 번호 */
	MEMBER_ID VARCHAR2(15), /* 회원 아이디 */
	ADMIN_ID VARCHAR2(15), /* 관리자 아이디 */
	CONSTRAINT REVIEW_COMMENT_MEMBER_ID_FK FOREIGN KEY(MEMBER_ID) REFERENCES MEMBER ON DELETE CASCADE,
	CONSTRAINT REVIEW_COMMENT_ADMIN_ID_FK FOREIGN KEY(ADMIN_ID) REFERENCES ADMIN ON DELETE CASCADE
);

/* QnA */
DROP TABLE QnA ;
/* QnA */
CREATE TABLE QnA(
	QNA_NO NUMBER(10) PRIMARY KEY, /* QnA 번호 */
	ITEMS VARCHAR2(30) NOT NULL, /* 항목 */
	QNA_SUBJECT VARCHAR2(100) NOT NULL, /* 제목 */
	QNA_CONTENT VARCHAR2(1000) NOT NULL, /* 내용 */
	QNA_DATE DATE DEFAULT SYSDATE NOT NULL, /* 작성일 */
	MEMBER_ID VARCHAR2(15) NOT NULL, /* 회원 아이디 */
	O_NO NUMBER(10), /* 아웃터 번호 */
	T_NO NUMBER(10), /* 상의 번호 */
	B_NO NUMBER(10), /* 하의 번호 */
	CONSTRAINT QnA_O_NO_FK FOREIGN KEY(O_NO) REFERENCES OUTER_C ON DELETE CASCADE,
	CONSTRAINT QnA_T_NO_FK FOREIGN KEY(T_NO) REFERENCES TOP ON DELETE CASCADE,
	CONSTRAINT QnA_B_NO_FK FOREIGN KEY(B_NO) REFERENCES BOTTOM ON DELETE CASCADE
);

/* QnA 댓글 */
DROP TABLE QnA_COMMENT;
/* QnA 댓글 */
CREATE TABLE QnA_COMMENT (
	Q_C_CONTENT VARCHAR2(1000) NOT NULL, /* 내용 */
	Q_C_DATE DATE NOT NULL, /* 작성일 */
	QNA_NO NUMBER(10) NOT NULL, /* QnA 번호 */
	MEMBER_ID VARCHAR2(15), /* 회원 아이디 */
	ADMIN_ID VARCHAR2(15), /* 관리자 아이디 */
	CONSTRAINT QnA_COMMENT_MEMBER_ID_FK FOREIGN KEY(MEMBER_ID) REFERENCES MEMBER ON DELETE CASCADE,
	CONSTRAINT QnA_COMMENT_ADMIN_ID_FK FOREIGN KEY(ADMIN_ID) REFERENCES ADMIN ON DELETE CASCADE
);


/* 즐겨찾기 */
DROP TABLE BOOKMARK;
/* 즐겨찾기 */
CREATE TABLE BOOKMARK (
	B_M_NO NUMBER(10) PRIMARY KEY, /* 즐겨찾기 번호 */
	MEMBER_ID VARCHAR2(15) NOT NULL, /* 회원 아이디 */
	CONSTRAINT BOOKMARK_MEMBER_ID_FK FOREIGN KEY(MEMBER_ID) REFERENCES MEMBER ON DELETE CASCADE
);


/* 주문관리 */
DROP TABLE ORDER_CHECK;
/* 주문관리 */
CREATE TABLE ORDER_CHECK (
	ORDER_NO NUMBER(10) PRIMARY KEY, /* 주문번호 */
	HANDLING CHAR(1) DEFAULT 0 NOT NULL, /* 처리 */
	MEMBER_ID VARCHAR2(15) NOT NULL, /* 회원 아이디 */
	O_NO NUMBER(10), /* 아웃터 번호 */
	T_NO NUMBER(10), /* 상의 번호 */
	B_NO NUMBER(10), /* 하의 번호 */
	CONSTRAINT ORDER_MEMBER_O_NO_FK FOREIGN KEY(O_NO) REFERENCES OUTER_C ON DELETE CASCADE,      
	CONSTRAINT ORDER_MEMBER_T_NO_FK FOREIGN KEY(T_NO) REFERENCES TOP ON DELETE CASCADE,
	CONSTRAINT ORDER_MEMBER_B_NO_FK FOREIGN KEY(B_NO) REFERENCES BOTTOM ON DELETE CASCADE,
	CONSTRAINT ORDER_MEMBER_ID_FK FOREIGN KEY(MEMBER_ID) REFERENCES MEMBER ON DELETE CASCADE   ---------------
);